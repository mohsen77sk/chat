(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[761],{8231:(kt,st,a)=>{var S={"./i18n/en.json":[127,127],"./i18n/fa.json":[577,577]};function E(_){if(!a.o(S,_))return Promise.resolve().then(()=>{var O=new Error("Cannot find module '"+_+"'");throw O.code="MODULE_NOT_FOUND",O});var I=S[_],L=I[0];return a.e(I[1]).then(()=>a.t(L,19))}E.keys=()=>Object.keys(S),E.id=8231,kt.exports=E},9761:(kt,st,a)=>{"use strict";a.r(st),a.d(st,{ConversationResolver:()=>le,ConversationsModule:()=>Kn,ConversationsService:()=>ot});var S={};a.r(S),a.d(S,{Decoder:()=>vt,Encoder:()=>Ki,PacketType:()=>h,protocol:()=>re});var E={};a.r(E),a.d(E,{Manager:()=>nt,Socket:()=>xt,connect:()=>A,default:()=>A,io:()=>A,protocol:()=>re});var _=a(6814),I=a(4408),L=a(617),O=a(7988),e=a(9212),u=a(2495),Q=a(2831),f=a(3680),yt=(a(7394),a(3019)),x=a(8645),Ct=a(7131),he=a(6385),N=a(4300),R=a(6028),V=a(6223),b=a(9773);let qe=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({imports:[Ct.Q8,_.ez,f.BQ,f.si,f.us,he.t]})}return o})();var rt=a(2032),j=a(2296),F=a(9829),Qe=a(9388),Ve=a(2438),B=a(2181),Y=a(7398),It=a(975),je=a(3997),Lt=a(8180),Ot=a(7921),Ye=a(3620),C=a(6825);const Ft=["*"],He=["content"];function Je(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",1),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s._onBackdropClicked())}),e.qZA()}if(2&o){const t=e.oxw();e.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function Ge(o,n){1&o&&(e.TgZ(0,"mat-drawer-content"),e.Hsn(1,2),e.qZA())}const We=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],$e=["mat-drawer","mat-drawer-content","*"],Ke={transformDrawer:(0,C.X$)("transform",[(0,C.SB)("open, open-instant",(0,C.oB)({transform:"none",visibility:"visible"})),(0,C.SB)("void",(0,C.oB)({"box-shadow":"none",visibility:"hidden"})),(0,C.eR)("void => open-instant",(0,C.jt)("0ms")),(0,C.eR)("void <=> open, open-instant => void",(0,C.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Xe=new e.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function ti(){return!1}}),Rt=new e.OlP("MAT_DRAWER_CONTAINER");let H=(()=>{class o extends F.PQ{constructor(t,i,s,c,r){super(s,c,r),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static#t=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.sBO),e.Y36((0,e.Gpc)(()=>Dt)),e.Y36(e.SBq),e.Y36(F.mF),e.Y36(e.R0b))};static#e=this.\u0275cmp=e.Xpm({type:o,selectors:[["mat-drawer-content"]],hostAttrs:["ngSkipHydration","",1,"mat-drawer-content"],hostVars:4,hostBindings:function(i,s){2&i&&e.Udp("margin-left",s._container._contentMargins.left,"px")("margin-right",s._container._contentMargins.right,"px")},features:[e._Bn([{provide:F.PQ,useExisting:o}]),e.qOj],ngContentSelectors:Ft,decls:1,vars:0,template:function(i,s){1&i&&(e.F$t(),e.Hsn(0))},encapsulation:2,changeDetection:0})}return o})(),Bt=(()=>{class o{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=(0,u.Ig)(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=(0,u.Ig)(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle((0,u.Ig)(t))}constructor(t,i,s,c,r,d,l,g){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=s,this._platform=c,this._ngZone=r,this._interactivityChecker=d,this._doc=l,this._container=g,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new x.x,this._animationEnd=new x.x,this._animationState="void",this.openedChange=new e.vpe(!0),this._openedStream=this.openedChange.pipe((0,B.h)(m=>m),(0,Y.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,B.h)(m=>m.fromState!==m.toState&&0===m.toState.indexOf("open")),(0,It.h)(void 0)),this._closedStream=this.openedChange.pipe((0,B.h)(m=>!m),(0,Y.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,B.h)(m=>m.fromState!==m.toState&&"void"===m.toState),(0,It.h)(void 0)),this._destroyed=new x.x,this.onPositionChanged=new e.vpe,this._modeChanged=new x.x,this.openedChange.subscribe(m=>{m?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Ve.R)(this._elementRef.nativeElement,"keydown").pipe((0,B.h)(m=>m.keyCode===R.hY&&!this.disableClose&&!(0,R.Vb)(m)),(0,b.R)(this._destroyed)).subscribe(m=>this._ngZone.run(()=>{this.close(),m.stopPropagation(),m.preventDefault()}))}),this._animationEnd.pipe((0,je.x)((m,w)=>m.fromState===w.fromState&&m.toState===w.toState)).subscribe(m=>{const{fromState:w,toState:M}=m;(0===M.indexOf("open")&&"void"===w||"void"===M&&0===w.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{t.removeEventListener("blur",s),t.removeEventListener("mousedown",s),t.removeAttribute("tabindex")};t.addEventListener("blur",s),t.addEventListener("mousedown",s)})),t.focus(i)}_focusByCssSelector(t,i){let s=this._elementRef.nativeElement.querySelector(t);s&&this._forceFocus(s,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const s=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),s}_setOpen(t,i,s){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(s)),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe((0,Lt.q)(1)).subscribe(r=>c(r?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,s=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),s.insertBefore(this._anchor,i)),s.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}static#t=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.SBq),e.Y36(N.qV),e.Y36(N.tE),e.Y36(Q.t4),e.Y36(e.R0b),e.Y36(N.ic),e.Y36(_.K0,8),e.Y36(Rt,8))};static#e=this.\u0275cmp=e.Xpm({type:o,selectors:[["mat-drawer"]],viewQuery:function(i,s){if(1&i&&e.Gf(He,5),2&i){let c;e.iGM(c=e.CRH())&&(s._content=c.first)}},hostAttrs:["tabIndex","-1","ngSkipHydration","",1,"mat-drawer"],hostVars:12,hostBindings:function(i,s){1&i&&e.WFA("@transform.start",function(r){return s._animationStarted.next(r)})("@transform.done",function(r){return s._animationEnd.next(r)}),2&i&&(e.uIk("align",null),e.d8E("@transform",s._animationState),e.ekj("mat-drawer-end","end"===s.position)("mat-drawer-over","over"===s.mode)("mat-drawer-push","push"===s.mode)("mat-drawer-side","side"===s.mode)("mat-drawer-opened",s.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:Ft,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(i,s){1&i&&(e.F$t(),e.TgZ(0,"div",0,1),e.Hsn(2),e.qZA())},dependencies:[F.PQ],encapsulation:2,data:{animation:[Ke.transformDrawer]},changeDetection:0})}return o})(),Dt=(()=>{class o{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=(0,u.Ig)(t)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(t){this._backdropOverride=null==t?null:(0,u.Ig)(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,s,c,r,d=!1,l){this._dir=t,this._element=i,this._ngZone=s,this._changeDetectorRef=c,this._animationMode=l,this._drawers=new e.n_E,this.backdropClick=new e.vpe,this._destroyed=new x.x,this._doCheckSubject=new x.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new x.x,t&&t.change.pipe((0,b.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),r.change().pipe((0,b.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=d}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Ot.O)(this._allDrawers),(0,b.R)(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Ot.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Ye.b)(10),(0,b.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();t+=s,i-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();i+=s,t-=s}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe((0,B.h)(i=>i.fromState!==i.toState),(0,b.R)(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe((0,b.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe((0,b.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,Lt.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe((0,b.R)((0,yt.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,s="mat-drawer-container-has-open";t?i.add(s):i.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._drawerHasBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(t){return null!=t&&t.opened}_drawerHasBackdrop(t){return null==this._backdropOverride?!!t&&"side"!==t.mode:this._backdropOverride}static#t=this.\u0275fac=function(i){return new(i||o)(e.Y36(Qe.Is,8),e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(F.rL),e.Y36(Xe),e.Y36(e.QbO,8))};static#e=this.\u0275cmp=e.Xpm({type:o,selectors:[["mat-drawer-container"]],contentQueries:function(i,s,c){if(1&i&&(e.Suo(c,H,5),e.Suo(c,Bt,5)),2&i){let r;e.iGM(r=e.CRH())&&(s._content=r.first),e.iGM(r=e.CRH())&&(s._allDrawers=r)}},viewQuery:function(i,s){if(1&i&&e.Gf(H,5),2&i){let c;e.iGM(c=e.CRH())&&(s._userContent=c.first)}},hostAttrs:["ngSkipHydration","",1,"mat-drawer-container"],hostVars:2,hostBindings:function(i,s){2&i&&e.ekj("mat-drawer-container-explicit-backdrop",s._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[e._Bn([{provide:Rt,useExisting:o}])],ngContentSelectors:$e,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(i,s){1&i&&(e.F$t(We),e.YNc(0,Je,1,2,"div",0),e.Hsn(1),e.Hsn(2,1),e.YNc(3,Ge,2,0,"mat-drawer-content")),2&i&&(e.um2(0,s.hasBackdrop?0:-1),e.xp6(3),e.um2(3,s._content?-1:3))},dependencies:[H],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color);background-color:var(--mat-sidenav-content-background-color);box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);position:relative;z-index:4;color:var(--mat-sidenav-container-text-color);background-color:var(--mat-sidenav-container-background-color);border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape);border-bottom-left-radius:var(--mat-sidenav-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape);border-bottom-right-radius:var(--mat-sidenav-container-shape);border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}return o})(),ei=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({imports:[f.BQ,F.ZD,F.ZD,f.BQ]})}return o})();var J=a(4170);const ii=["switch"];function ni(o,n){1&o&&(e.TgZ(0,"div",12),e.O4$(),e.TgZ(1,"svg",13),e._UZ(2,"path",14),e.qZA(),e.TgZ(3,"svg",15),e._UZ(4,"path",16),e.qZA()())}const oi=["*"],si=new e.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),ci={provide:V.JU,useExisting:(0,e.Gpc)(()=>Zt),multi:!0};class zt{constructor(n,t){this.source=n,this.checked=t}}let ri=0,Zt=(()=>{class o{_createChangeEvent(t){return new zt(this,t)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(t){this._checked=t,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,i,s,c,r,d){this._elementRef=t,this._focusMonitor=i,this._changeDetectorRef=s,this.defaults=r,this._onChange=l=>{},this._onTouched=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new e.vpe,this.toggleChange=new e.vpe,this.tabIndex=parseInt(c)||0,this.color=r.color||"accent",this._noopAnimations="NoopAnimations"===d,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++ri,this.hideIcon=r.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new zt(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#t=this.\u0275fac=function(i){return new(i||o)(e.Y36(e.SBq),e.Y36(N.tE),e.Y36(e.sBO),e.$8M("tabindex"),e.Y36(si),e.Y36(e.QbO,8))};static#e=this.\u0275cmp=e.Xpm({type:o,selectors:[["mat-slide-toggle"]],viewQuery:function(i,s){if(1&i&&e.Gf(ii,5),2&i){let c;e.iGM(c=e.CRH())&&(s._switchElement=c.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,s){2&i&&(e.Ikx("id",s.id),e.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),e.Tol(s.color?"mat-"+s.color:""),e.ekj("mat-mdc-slide-toggle-focused",s._focused)("mat-mdc-slide-toggle-checked",s.checked)("_mat-animation-noopable",s._noopAnimations))},inputs:{disabled:["disabled","disabled",e.VuI],disableRipple:["disableRipple","disableRipple",e.VuI],color:"color",tabIndex:["tabIndex","tabIndex",t=>null==t?0:(0,e.Cb_)(t)],name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:["required","required",e.VuI],checked:["checked","checked",e.VuI],hideIcon:["hideIcon","hideIcon",e.VuI]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],features:[e._Bn([ci]),e.Xq5],ngContentSelectors:oi,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,s){if(1&i&&(e.F$t(),e.TgZ(0,"div",0)(1,"button",1,2),e.NdJ("click",function(){return s._handleClick()}),e._UZ(3,"div",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"div",7),e.qZA(),e.TgZ(8,"div",8),e._UZ(9,"div",9),e.qZA(),e.YNc(10,ni,5,0,"div",10),e.qZA()()(),e.TgZ(11,"label",11),e.NdJ("click",function(r){return r.stopPropagation()}),e.Hsn(12),e.qZA()()),2&i){const c=e.MAs(2);e.ekj("mdc-form-field--align-end","before"==s.labelPosition),e.xp6(1),e.ekj("mdc-switch--selected",s.checked)("mdc-switch--unselected",!s.checked)("mdc-switch--checked",s.checked)("mdc-switch--disabled",s.disabled),e.Q6J("tabIndex",s.disabled?-1:s.tabIndex)("disabled",s.disabled),e.uIk("id",s.buttonId)("name",s.name)("aria-label",s.ariaLabel)("aria-labelledby",s._getAriaLabelledBy())("aria-describedby",s.ariaDescribedby)("aria-required",s.required||null)("aria-checked",s.checked),e.xp6(8),e.Q6J("matRippleTrigger",c)("matRippleDisabled",s.disableRipple||s.disabled)("matRippleCentered",!0),e.xp6(1),e.um2(10,s.hideIcon?-1:10),e.xp6(1),e.Q6J("for",s.buttonId),e.uIk("id",s._labelId)}},dependencies:[f.wG],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width)}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return o})(),Nt=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({})}return o})(),li=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({imports:[Nt,f.BQ,f.si,Nt,f.BQ]})}return o})();var D=a(6560),mi=a(4273),hi=a(7824),pi=a(5592),gi=a(3020);const y=Object.create(null);y.open="0",y.close="1",y.ping="2",y.pong="3",y.message="4",y.upgrade="5",y.noop="6";const G=Object.create(null);Object.keys(y).forEach(o=>{G[y[o]]=o});const at={type:"error",data:"parser error"},Pt="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Ut="function"==typeof ArrayBuffer,qt=o=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer,dt=({type:o,data:n},t,i)=>Pt&&n instanceof Blob?t?i(n):Qt(n,i):Ut&&(n instanceof ArrayBuffer||qt(n))?t?i(n):Qt(new Blob([n]),i):i(y[o]+(n||"")),Qt=(o,n)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];n("b"+(i||""))},t.readAsDataURL(o)};function Vt(o){return o instanceof Uint8Array?o:o instanceof ArrayBuffer?new Uint8Array(o):new Uint8Array(o.buffer,o.byteOffset,o.byteLength)}let lt;const P=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let o=0;o<64;o++)P["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(o)]=o;const fi="function"==typeof ArrayBuffer,mt=(o,n)=>{if("string"!=typeof o)return{type:"message",data:jt(o,n)};const t=o.charAt(0);return"b"===t?{type:"message",data:bi(o.substring(1),n)}:G[t]?o.length>1?{type:G[t],data:o.substring(1)}:{type:G[t]}:at},bi=(o,n)=>{if(fi){const t=(o=>{let i,c,r,d,l,n=.75*o.length,t=o.length,s=0;"="===o[o.length-1]&&(n--,"="===o[o.length-2]&&n--);const g=new ArrayBuffer(n),m=new Uint8Array(g);for(i=0;i<t;i+=4)c=P[o.charCodeAt(i)],r=P[o.charCodeAt(i+1)],d=P[o.charCodeAt(i+2)],l=P[o.charCodeAt(i+3)],m[s++]=c<<2|r>>4,m[s++]=(15&r)<<4|d>>2,m[s++]=(3&d)<<6|63&l;return g})(o);return jt(t,n)}return{base64:!0,data:o}},jt=(o,n)=>"blob"===n?o instanceof Blob?o:new Blob([o]):o instanceof ArrayBuffer?o:o.buffer,Yt=String.fromCharCode(30);let ht;function W(o){return o.reduce((n,t)=>n+t.length,0)}function $(o,n){if(o[0].length===n)return o.shift();const t=new Uint8Array(n);let i=0;for(let s=0;s<n;s++)t[s]=o[0][i++],i===o[0].length&&(o.shift(),i=0);return o.length&&i<o[0].length&&(o[0]=o[0].slice(i)),t}function p(o){if(o)return function yi(o){for(var n in p.prototype)o[n]=p.prototype[n];return o}(o)}p.prototype.on=p.prototype.addEventListener=function(o,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+o]=this._callbacks["$"+o]||[]).push(n),this},p.prototype.once=function(o,n){function t(){this.off(o,t),n.apply(this,arguments)}return t.fn=n,this.on(o,t),this},p.prototype.off=p.prototype.removeListener=p.prototype.removeAllListeners=p.prototype.removeEventListener=function(o,n){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var t=this._callbacks["$"+o];if(!t)return this;if(1==arguments.length)return delete this._callbacks["$"+o],this;for(var i,s=0;s<t.length;s++)if((i=t[s])===n||i.fn===n){t.splice(s,1);break}return 0===t.length&&delete this._callbacks["$"+o],this},p.prototype.emitReserved=p.prototype.emit=function(o){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),t=this._callbacks["$"+o],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(t){i=0;for(var s=(t=t.slice(0)).length;i<s;++i)t[i].apply(this,n)}return this},p.prototype.listeners=function(o){return this._callbacks=this._callbacks||{},this._callbacks["$"+o]||[]},p.prototype.hasListeners=function(o){return!!this.listeners(o).length};const v=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Jt(o,...n){return n.reduce((t,i)=>(o.hasOwnProperty(i)&&(t[i]=o[i]),t),{})}const Ci=v.setTimeout,Mi=v.clearTimeout;function K(o,n){n.useNativeTimers?(o.setTimeoutFn=Ci.bind(v),o.clearTimeoutFn=Mi.bind(v)):(o.setTimeoutFn=v.setTimeout.bind(v),o.clearTimeoutFn=v.clearTimeout.bind(v))}function Ai(o){return"string"==typeof o?function Si(o){let n=0,t=0;for(let i=0,s=o.length;i<s;i++)n=o.charCodeAt(i),n<128?t+=1:n<2048?t+=2:n<55296||n>=57344?t+=3:(i++,t+=4);return t}(o):Math.ceil(1.33*(o.byteLength||o.size))}class Li extends Error{constructor(n,t,i){super(n),this.description=t,this.context=i,this.type="TransportError"}}class pt extends p{constructor(n){super(),this.writable=!1,K(this,n),this.opts=n,this.query=n.query,this.socket=n.socket}onError(n,t,i){return super.emitReserved("error",new Li(n,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(n){"open"===this.readyState&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const t=mt(n,this.socket.binaryType);this.onPacket(t)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,t={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const n=this.opts.hostname;return-1===n.indexOf(":")?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(n){const t=function Ei(o){let n="";for(let t in o)o.hasOwnProperty(t)&&(n.length&&(n+="&"),n+=encodeURIComponent(t)+"="+encodeURIComponent(o[t]));return n}(n);return t.length?"?"+t:""}}const Gt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),X=64,Wt={};let Kt,$t=0,T=0;function Xt(o){let n="";do{n=Gt[o%X]+n,o=Math.floor(o/X)}while(o>0);return n}function te(){const o=Xt(+new Date);return o!==Kt?($t=0,Kt=o):o+"."+Xt($t++)}for(;T<X;T++)Wt[Gt[T]]=T;let ee=!1;try{ee=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Oi=ee;function ie(o){const n=o.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||Oi))return new XMLHttpRequest}catch{}if(!n)try{return new(v[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function Fi(){}const Ri=null!=new ie({xdomain:!1}).responseType;let tt=(()=>{class o extends p{constructor(t,i){super(),K(this,i),this.opts=i,this.method=i.method||"GET",this.uri=t,this.data=void 0!==i.data?i.data:null,this.create()}create(){var t;const i=Jt(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this.opts.xd;const s=this.xhr=new ie(i);try{s.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let c in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(c)&&s.setRequestHeader(c,this.opts.extraHeaders[c])}}catch{}if("POST"===this.method)try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}null===(t=this.opts.cookieJar)||void 0===t||t.addCookies(s),"withCredentials"in s&&(s.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(s.timeout=this.opts.requestTimeout),s.onreadystatechange=()=>{var c;3===s.readyState&&(null===(c=this.opts.cookieJar)||void 0===c||c.parseCookies(s)),4===s.readyState&&(200===s.status||1223===s.status?this.onLoad():this.setTimeoutFn(()=>{this.onError("number"==typeof s.status?s.status:0)},0))},s.send(this.data)}catch(c){return void this.setTimeoutFn(()=>{this.onError(c)},0)}typeof document<"u"&&(this.index=o.requestsCount++,o.requests[this.index]=this)}onError(t){this.emitReserved("error",t,this.xhr),this.cleanup(!0)}cleanup(t){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=Fi,t)try{this.xhr.abort()}catch{}typeof document<"u"&&delete o.requests[this.index],this.xhr=null}}onLoad(){const t=this.xhr.responseText;null!==t&&(this.emitReserved("data",t),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}return o.requestsCount=0,o.requests={},o})();function ne(){for(let o in tt.requests)tt.requests.hasOwnProperty(o)&&tt.requests[o].abort()}typeof document<"u"&&("function"==typeof attachEvent?attachEvent("onunload",ne):"function"==typeof addEventListener&&addEventListener("onpagehide"in v?"pagehide":"unload",ne,!1));const gt="function"==typeof Promise&&"function"==typeof Promise.resolve?n=>Promise.resolve().then(n):(n,t)=>t(n,0),et=v.WebSocket||v.MozWebSocket,oe=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Ni={websocket:class zi extends pt{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const n=this.uri(),t=this.opts.protocols,i=oe?{}:Jt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=oe?new et(n,t,i):t?new et(n,t):new et(n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let t=0;t<n.length;t++){const s=t===n.length-1;dt(n[t],this.supportsBinary,c=>{try{this.ws.send(c)}catch{}s&&gt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=te()),this.supportsBinary||(t.b64=1),this.createUri(n,t)}check(){return!!et}},webtransport:class Zi extends pt{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(n=>{const t=function ki(o,n){ht||(ht=new TextDecoder);const t=[];let i=0,s=-1,c=!1;return new TransformStream({transform(r,d){for(t.push(r);;){if(0===i){if(W(t)<1)break;const l=$(t,1);c=128==(128&l[0]),s=127&l[0],i=s<126?3:126===s?1:2}else if(1===i){if(W(t)<2)break;const l=$(t,2);s=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),i=3}else if(2===i){if(W(t)<8)break;const l=$(t,8),g=new DataView(l.buffer,l.byteOffset,l.length),m=g.getUint32(0);if(m>Math.pow(2,21)-1){d.enqueue(at);break}s=m*Math.pow(2,32)+g.getUint32(4),i=3}else{if(W(t)<s)break;const l=$(t,s);d.enqueue(mt(c?l:ht.decode(l),n)),i=0}if(0===s||s>o){d.enqueue(at);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=n.readable.pipeThrough(t).getReader(),s=function xi(){return new TransformStream({transform(o,n){!function _i(o,n){Pt&&o.data instanceof Blob?o.data.arrayBuffer().then(Vt).then(n):Ut&&(o.data instanceof ArrayBuffer||qt(o.data))?n(Vt(o.data)):dt(o,!1,t=>{lt||(lt=new TextEncoder),n(lt.encode(t))})}(o,t=>{const i=t.length;let s;if(i<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,i);else if(i<65536){s=new Uint8Array(3);const c=new DataView(s.buffer);c.setUint8(0,126),c.setUint16(1,i)}else{s=new Uint8Array(9);const c=new DataView(s.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(i))}o.data&&"string"!=typeof o.data&&(s[0]|=128),n.enqueue(s),n.enqueue(t)})}})}();s.readable.pipeTo(n.writable),this.writer=s.writable.getWriter();const c=()=>{i.read().then(({done:d,value:l})=>{d||(this.onPacket(l),c())}).catch(d=>{})};c();const r={type:"open"};this.query.sid&&(r.data=`{"sid":"${this.query.sid}"}`),this.writer.write(r).then(()=>this.onOpen())})}))}write(n){this.writable=!1;for(let t=0;t<n.length;t++){const s=t===n.length-1;this.writer.write(n[t]).then(()=>{s&&gt(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;null===(n=this.transport)||void 0===n||n.close()}},polling:class Bi extends pt{constructor(n){if(super(n),this.polling=!1,typeof location<"u"){const i="https:"===location.protocol;let s=location.port;s||(s=i?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||s!==n.port}this.supportsBinary=Ri&&!(n&&n.forceBase64),this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";const t=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let i=0;this.polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){((o,n)=>{const t=o.split(Yt),i=[];for(let s=0;s<t.length;s++){const c=mt(t[s],n);if(i.push(c),"error"===c.type)break}return i})(n,this.socket.binaryType).forEach(i=>{if("opening"===this.readyState&&"open"===i.type&&this.onOpen(),"close"===i.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)}),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const n=()=>{this.write([{type:"close"}])};"open"===this.readyState?n():this.once("open",n)}write(n){this.writable=!1,((o,n)=>{const t=o.length,i=new Array(t);let s=0;o.forEach((c,r)=>{dt(c,!1,d=>{i[r]=d,++s===t&&n(i.join(Yt))})})})(n,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=te()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(n,t)}request(n={}){return Object.assign(n,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new tt(this.uri(),n)}doWrite(n,t){const i=this.request({method:"POST",data:n});i.on("success",t),i.on("error",(s,c)=>{this.onError("xhr post error",s,c)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=n}}},Pi=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ui=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ut(o){if(o.length>2e3)throw"URI too long";const n=o,t=o.indexOf("["),i=o.indexOf("]");-1!=t&&-1!=i&&(o=o.substring(0,t)+o.substring(t,i).replace(/:/g,";")+o.substring(i,o.length));let s=Pi.exec(o||""),c={},r=14;for(;r--;)c[Ui[r]]=s[r]||"";return-1!=t&&-1!=i&&(c.source=n,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=function qi(o,n){const i=n.replace(/\/{2,9}/g,"/").split("/");return("/"==n.slice(0,1)||0===n.length)&&i.splice(0,1),"/"==n.slice(-1)&&i.splice(i.length-1,1),i}(0,c.path),c.queryKey=function Qi(o,n){const t={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,s,c){s&&(t[s]=c)}),t}(0,c.query),c}let se=(()=>{class o extends p{constructor(t,i={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],t&&"object"==typeof t&&(i=t,t=null),t?(t=ut(t),i.hostname=t.host,i.secure="https"===t.protocol||"wss"===t.protocol,i.port=t.port,t.query&&(i.query=t.query)):i.host&&(i.hostname=ut(i.host).host),K(this,i),this.secure=null!=i.secure?i.secure:typeof location<"u"&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=this.secure?"443":"80"),this.hostname=i.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=i.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=i.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function Ii(o){let n={},t=o.split("&");for(let i=0,s=t.length;i<s;i++){let c=t[i].split("=");n[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return n}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(t){const i=Object.assign({},this.opts.query);i.EIO=4,i.transport=t,this.id&&(i.sid=this.id);const s=Object.assign({},this.opts,{query:i,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new Ni[t](s)}open(){let t;if(this.opts.rememberUpgrade&&o.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))t="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);t=this.transports[0]}this.readyState="opening";try{t=this.createTransport(t)}catch{return this.transports.shift(),void this.open()}t.open(),this.setTransport(t)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",i=>this.onClose("transport close",i))}probe(t){let i=this.createTransport(t),s=!1;o.priorWebsocketSuccess=!1;const c=()=>{s||(i.send([{type:"ping",data:"probe"}]),i.once("packet",M=>{if(!s)if("pong"===M.type&&"probe"===M.data){if(this.upgrading=!0,this.emitReserved("upgrading",i),!i)return;o.priorWebsocketSuccess="websocket"===i.name,this.transport.pause(()=>{s||"closed"!==this.readyState&&(w(),this.setTransport(i),i.send([{type:"upgrade"}]),this.emitReserved("upgrade",i),i=null,this.upgrading=!1,this.flush())})}else{const q=new Error("probe error");q.transport=i.name,this.emitReserved("upgradeError",q)}}))};function r(){s||(s=!0,w(),i.close(),i=null)}const d=M=>{const q=new Error("probe error: "+M);q.transport=i.name,r(),this.emitReserved("upgradeError",q)};function l(){d("transport closed")}function g(){d("socket closed")}function m(M){i&&M.name!==i.name&&r()}const w=()=>{i.removeListener("open",c),i.removeListener("error",d),i.removeListener("close",l),this.off("close",g),this.off("upgrading",m)};i.once("open",c),i.once("error",d),i.once("close",l),this.once("close",g),this.once("upgrading",m),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==t?this.setTimeoutFn(()=>{s||i.open()},200):i.open()}onOpen(){if(this.readyState="open",o.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let t=0;const i=this.upgrades.length;for(;t<i;t++)this.probe(this.upgrades[t])}}onPacket(t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),this.resetPingTimeout(),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const i=new Error("server error");i.code=t.data,this.onError(i);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data)}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this.upgrades=this.filterUpgrades(t.upgrades),this.pingInterval=t.pingInterval,this.pingTimeout=t.pingTimeout,this.maxPayload=t.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this.getWritablePackets();this.transport.send(t),this.prevBufferLen=t.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let i=1;for(let s=0;s<this.writeBuffer.length;s++){const c=this.writeBuffer[s].data;if(c&&(i+=Ai(c)),s>0&&i>this.maxPayload)return this.writeBuffer.slice(0,s);i+=2}return this.writeBuffer}write(t,i,s){return this.sendPacket("message",t,i,s),this}send(t,i,s){return this.sendPacket("message",t,i,s),this}sendPacket(t,i,s,c){if("function"==typeof i&&(c=i,i=void 0),"function"==typeof s&&(c=s,s=null),"closing"===this.readyState||"closed"===this.readyState)return;(s=s||{}).compress=!1!==s.compress;const r={type:t,data:i,options:s};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),c&&this.once("flush",c),this.flush()}close(){const t=()=>{this.onClose("forced close"),this.transport.close()},i=()=>{this.off("upgrade",i),this.off("upgradeError",i),t()},s=()=>{this.once("upgrade",i),this.once("upgradeError",i)};return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():t()}):this.upgrading?s():t()),this}onError(t){o.priorWebsocketSuccess=!1,this.emitReserved("error",t),this.onClose("transport error",t)}onClose(t,i){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",t,i),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(t){const i=[];let s=0;const c=t.length;for(;s<c;s++)~this.transports.indexOf(t[s])&&i.push(t[s]);return i}}return o.protocol=4,o})();const ji="function"==typeof ArrayBuffer,Yi=o=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o.buffer instanceof ArrayBuffer,ce=Object.prototype.toString,Hi="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===ce.call(Blob),Ji="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===ce.call(File);function ft(o){return ji&&(o instanceof ArrayBuffer||Yi(o))||Hi&&o instanceof Blob||Ji&&o instanceof File}function it(o,n){if(!o||"object"!=typeof o)return!1;if(Array.isArray(o)){for(let t=0,i=o.length;t<i;t++)if(it(o[t]))return!0;return!1}if(ft(o))return!0;if(o.toJSON&&"function"==typeof o.toJSON&&1===arguments.length)return it(o.toJSON(),!0);for(const t in o)if(Object.prototype.hasOwnProperty.call(o,t)&&it(o[t]))return!0;return!1}function Gi(o){const n=[],i=o;return i.data=bt(o.data,n),i.attachments=n.length,{packet:i,buffers:n}}function bt(o,n){if(!o)return o;if(ft(o)){const t={_placeholder:!0,num:n.length};return n.push(o),t}if(Array.isArray(o)){const t=new Array(o.length);for(let i=0;i<o.length;i++)t[i]=bt(o[i],n);return t}if("object"==typeof o&&!(o instanceof Date)){const t={};for(const i in o)Object.prototype.hasOwnProperty.call(o,i)&&(t[i]=bt(o[i],n));return t}return o}function Wi(o,n){return o.data=wt(o.data,n),delete o.attachments,o}function wt(o,n){if(!o)return o;if(o&&!0===o._placeholder){if("number"==typeof o.num&&o.num>=0&&o.num<n.length)return n[o.num];throw new Error("illegal attachments")}if(Array.isArray(o))for(let t=0;t<o.length;t++)o[t]=wt(o[t],n);else if("object"==typeof o)for(const t in o)Object.prototype.hasOwnProperty.call(o,t)&&(o[t]=wt(o[t],n));return o}const $i=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],re=5;var h=function(o){return o[o.CONNECT=0]="CONNECT",o[o.DISCONNECT=1]="DISCONNECT",o[o.EVENT=2]="EVENT",o[o.ACK=3]="ACK",o[o.CONNECT_ERROR=4]="CONNECT_ERROR",o[o.BINARY_EVENT=5]="BINARY_EVENT",o[o.BINARY_ACK=6]="BINARY_ACK",o}(h||{});class Ki{constructor(n){this.replacer=n}encode(n){return n.type!==h.EVENT&&n.type!==h.ACK||!it(n)?[this.encodeAsString(n)]:this.encodeAsBinary({type:n.type===h.EVENT?h.BINARY_EVENT:h.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id})}encodeAsString(n){let t=""+n.type;return(n.type===h.BINARY_EVENT||n.type===h.BINARY_ACK)&&(t+=n.attachments+"-"),n.nsp&&"/"!==n.nsp&&(t+=n.nsp+","),null!=n.id&&(t+=n.id),null!=n.data&&(t+=JSON.stringify(n.data,this.replacer)),t}encodeAsBinary(n){const t=Gi(n),i=this.encodeAsString(t.packet),s=t.buffers;return s.unshift(i),s}}function ae(o){return"[object Object]"===Object.prototype.toString.call(o)}class vt extends p{constructor(n){super(),this.reviver=n}add(n){let t;if("string"==typeof n){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(n);const i=t.type===h.BINARY_EVENT;i||t.type===h.BINARY_ACK?(t.type=i?h.EVENT:h.ACK,this.reconstructor=new Xi(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!ft(n)&&!n.base64)throw new Error("Unknown type: "+n);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(n),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(n){let t=0;const i={type:Number(n.charAt(0))};if(void 0===h[i.type])throw new Error("unknown packet type "+i.type);if(i.type===h.BINARY_EVENT||i.type===h.BINARY_ACK){const c=t+1;for(;"-"!==n.charAt(++t)&&t!=n.length;);const r=n.substring(c,t);if(r!=Number(r)||"-"!==n.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(r)}if("/"===n.charAt(t+1)){const c=t+1;for(;++t&&","!==n.charAt(t)&&t!==n.length;);i.nsp=n.substring(c,t)}else i.nsp="/";const s=n.charAt(t+1);if(""!==s&&Number(s)==s){const c=t+1;for(;++t;){const r=n.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===n.length)break}i.id=Number(n.substring(c,t+1))}if(n.charAt(++t)){const c=this.tryParse(n.substr(t));if(!vt.isPayloadValid(i.type,c))throw new Error("invalid payload");i.data=c}return i}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,t){switch(n){case h.CONNECT:return ae(t);case h.DISCONNECT:return void 0===t;case h.CONNECT_ERROR:return"string"==typeof t||ae(t);case h.EVENT:case h.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===$i.indexOf(t[0]));case h.ACK:case h.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Xi{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const t=Wi(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function k(o,n,t){return o.on(n,t),function(){o.off(n,t)}}const tn=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class xt extends p{constructor(n,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[k(n,"open",this.onopen.bind(this)),k(n,"packet",this.onpacket.bind(this)),k(n,"error",this.onerror.bind(this)),k(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...t){if(tn.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(t.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const i={type:h.EVENT,data:t,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const r=this.ids++,d=t.pop();this._registerAckCallback(r,d),i.id=r}return this.flags.volatile&&(!(this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable)||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(n,t){var i;const s=null!==(i=this.flags.timeout)&&void 0!==i?i:this._opts.ackTimeout;if(void 0===s)return void(this.acks[n]=t);const c=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let r=0;r<this.sendBuffer.length;r++)this.sendBuffer[r].id===n&&this.sendBuffer.splice(r,1);t.call(this,new Error("operation has timed out"))},s);this.acks[n]=(...r)=>{this.io.clearTimeoutFn(c),t.apply(this,[null,...r])}}emitWithAck(n,...t){const i=void 0!==this.flags.timeout||void 0!==this._opts.ackTimeout;return new Promise((s,c)=>{t.push((r,d)=>i?r?c(r):s(d):s(r)),this.emit(n,...t)})}_addToQueue(n){let t;"function"==typeof n[n.length-1]&&(t=n.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((s,...c)=>i!==this._queue[0]?void 0:(null!==s?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(s)):(this._queue.shift(),t&&t(null,...c)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!n||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){"function"==typeof this.auth?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:h.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,t)}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case h.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case h.EVENT:case h.BINARY_EVENT:this.onevent(n);break;case h.ACK:case h.BINARY_ACK:this.onack(n);break;case h.DISCONNECT:this.ondisconnect();break;case h.CONNECT_ERROR:this.destroy();const i=new Error(n.data.message);i.data=n.data.data,this.emitReserved("connect_error",i)}}onevent(n){const t=n.data||[];null!=n.id&&t.push(this.ack(n.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&"string"==typeof n[n.length-1]&&(this._lastOffset=n[n.length-1])}ack(n){const t=this;let i=!1;return function(...s){i||(i=!0,t.packet({type:h.ACK,id:n,data:s}))}}onack(n){const t=this.acks[n.id];"function"==typeof t&&(t.apply(this,n.data),delete this.acks[n.id])}onconnect(n,t){this.id=n,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:h.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(n===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(n===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,n.data)}}}function Z(o){this.ms=(o=o||{}).min||100,this.max=o.max||1e4,this.factor=o.factor||2,this.jitter=o.jitter>0&&o.jitter<=1?o.jitter:0,this.attempts=0}Z.prototype.duration=function(){var o=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),t=Math.floor(n*this.jitter*o);o=1&Math.floor(10*n)?o+t:o-t}return 0|Math.min(o,this.max)},Z.prototype.reset=function(){this.attempts=0},Z.prototype.setMin=function(o){this.ms=o},Z.prototype.setMax=function(o){this.max=o},Z.prototype.setJitter=function(o){this.jitter=o};class nt extends p{constructor(n,t){var i;super(),this.nsps={},this.subs=[],n&&"object"==typeof n&&(t=n,n=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,K(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=t.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new Z({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=n;const s=t.parser||S;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection}reconnectionAttempts(n){return void 0===n?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var t;return void 0===n?this._reconnectionDelay:(this._reconnectionDelay=n,null===(t=this.backoff)||void 0===t||t.setMin(n),this)}randomizationFactor(n){var t;return void 0===n?this._randomizationFactor:(this._randomizationFactor=n,null===(t=this.backoff)||void 0===t||t.setJitter(n),this)}reconnectionDelayMax(n){var t;return void 0===n?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,null===(t=this.backoff)||void 0===t||t.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new se(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const s=k(t,"open",function(){i.onopen(),n&&n()}),c=d=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",d),n?n(d):this.maybeReconnectOnOpen()},r=k(t,"error",c);if(!1!==this._timeout){const l=this.setTimeoutFn(()=>{s(),c(new Error("timeout")),t.close()},this._timeout);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(s),this.subs.push(r),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(k(n,"ping",this.onping.bind(this)),k(n,"data",this.ondata.bind(this)),k(n,"error",this.onerror.bind(this)),k(n,"close",this.onclose.bind(this)),k(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(t){this.onclose("parse error",t)}}ondecoded(n){gt(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,t){let i=this.nsps[n];return i?this._autoConnect&&!i.active&&i.connect():(i=new xt(this,n,t),this.nsps[n]=i),i}_destroy(n){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(n){const t=this.encoder.encode(n);for(let i=0;i<t.length;i++)this.engine.write(t[i],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(n,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(s=>{s?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",s)):n.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const U={};function A(o,n){"object"==typeof o&&(n=o,o=void 0);const t=function Vi(o,n="",t){let i=o;t=t||typeof location<"u"&&location,null==o&&(o=t.protocol+"//"+t.host),"string"==typeof o&&("/"===o.charAt(0)&&(o="/"===o.charAt(1)?t.protocol+o:t.host+o),/^(https?|wss?):\/\//.test(o)||(o=typeof t<"u"?t.protocol+"//"+o:"https://"+o),i=ut(o)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const c=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+c+":"+i.port+n,i.href=i.protocol+"://"+c+(t&&t.port===i.port?"":":"+i.port),i}(o,(n=n||{}).path||"/socket.io"),i=t.source,s=t.id;let l;return n.forceNew||n["force new connection"]||!1===n.multiplex||U[s]&&t.path in U[s].nsps?l=new nt(i,n):(U[s]||(U[s]=new nt(i,n)),l=U[s]),t.query&&!n.query&&(n.query=t.queryKey),l.socket(t.path,n)}Object.assign(A,{Manager:nt,Socket:xt,io:A,connect:A});class de{config;subscribersCounter={};eventObservables$={};ioSocket;emptyConfig={url:"",options:{}};constructor(n){this.config=n,void 0===n&&(n=this.emptyConfig),this.ioSocket=(A||E)(n.url,n.options)}of(n){this.ioSocket.of(n)}on(n,t){this.ioSocket.on(n,t)}once(n,t){this.ioSocket.once(n,t)}connect(n){return this.ioSocket.connect(n)}disconnect(n){return this.ioSocket.disconnect.apply(this.ioSocket,arguments)}emit(n,...t){return this.ioSocket.emit.apply(this.ioSocket,arguments)}removeListener(n,t){return this.ioSocket.removeListener.apply(this.ioSocket,arguments)}removeAllListeners(n){return this.ioSocket.removeAllListeners.apply(this.ioSocket,arguments)}fromEvent(n){return this.subscribersCounter[n]||(this.subscribersCounter[n]=0),this.subscribersCounter[n]++,this.eventObservables$[n]||(this.eventObservables$[n]=new pi.y(t=>{const i=s=>{t.next(s)};return this.ioSocket.on(n,i),()=>{this.subscribersCounter[n]--,0===this.subscribersCounter[n]&&(this.ioSocket.removeListener(n,i),delete this.eventObservables$[n])}}).pipe((0,gi.B)())),this.eventObservables$[n]}fromOneTimeEvent(n){return new Promise(t=>this.once(n,t))}listeners(n){return this.ioSocket.listeners(n)}listenersAny(){return this.ioSocket.listenersAny()}listenersAnyOutgoing(){return this.ioSocket.listenersAnyOutgoing()}off(n,t){return n?n&&!t?this.ioSocket.off(n):this.ioSocket.off(n,t):this.ioSocket.offAny()}onAny(n){return this.ioSocket.onAny(n)}onAnyOutgoing(n){return this.ioSocket.onAnyOutgoing(n)}prependAny(n){return this.ioSocket.prependAny(n)}prependAnyOutgoing(n){return this.ioSocket.prependAnyOutgoing(n)}timeout(n){return this.ioSocket.timeout(n)}volatile(){return this.ioSocket.volatile}}new e.OlP("__SOCKET_IO_CONFIG__");var en=a(6821);let nn=(()=>{class o extends de{constructor(t,i){super({url:t.apiEndpoint,options:{transports:["websocket"],auth:{authorization:i.accessToken}}}),this._appConfig=t,this._authService=i}static#t=this.\u0275fac=function(i){return new(i||o)(e.LFG(hi.q),e.LFG(en.e8))};static#e=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var on=a(5619);let ot=(()=>{class o{constructor(t){this.socket=t,this._currentConversation=new on.X(null)}get currentConversation$(){return this._currentConversation.asObservable()}set currentConversation(t){this._currentConversation.next(t),t&&this.joinConversation(t)}getMyConversations(){return this.socket.fromEvent("conversations")}emitPaginateConversations(t,i){this.socket.emit("paginateConversations",{take:t,page:i})}joinConversation(t){this.socket.emit("joinConversation",t)}LeaveConversation(t){this.socket.emit("leaveConversation",t)}getConversationInfo(){return this.socket.fromEvent("conversationInfo")}getConversationUsers(){return this.socket.fromEvent("conversationUsers")}emitPaginateConversationUsers(t,i,s){this.socket.emit("paginateUsers",{conversationId:t,pageOptionsDto:{take:i,page:s}})}getConversationMessages(){return this.socket.fromEvent("conversationMessages")}emitPaginateConversationMessages(t,i,s){this.socket.emit("paginateMessages",{conversationId:t,pageOptionsDto:{take:i,page:s}})}sendMessage(t,i){this.socket.emit("addMessage",{conversationId:t,text:i})}getAddedMessages(){return this.socket.fromEvent("addMessage")}static#t=this.\u0275fac=function(i){return new(i||o)(e.LFG(nn))};static#e=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),le=(()=>{class o{constructor(t){this._conversationsService=t}resolve(t,i){const s=Number.parseInt(t.paramMap.get("id")??"0");this._conversationsService.currentConversation=s>0?s:null}static#t=this.\u0275fac=function(i){return new(i||o)(e.LFG(ot))};static#e=this.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function sn(o,n){if(1&o&&(e.TgZ(0,"div",6)(1,"mat-form-field",7)(2,"mat-icon",8),e._uU(3," search "),e.qZA(),e._UZ(4,"input",9),e.qZA()()),2&o){const t=n.$implicit;e.xp6(4),e.Q6J("placeholder",t("search"))}}function cn(o,n){if(1&o&&(e.ynx(0),e._UZ(1,"img",20),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.avatar,e.LSH)}}function rn(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",21),e._uU(2),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",null==t.name?null:t.name.charAt(0)," ")}}function an(o,n){1&o&&(e.ynx(0),e.TgZ(1,"mat-icon",22),e._uU(2," volume_mute "),e.qZA(),e.BQk())}const dn=o=>({"bg-primary-500 text-primary-50 dark:bg-primary-500 dark:text-primary-50":o});function ln(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",23),e._uU(2),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(2,dn,!t.muted)),e.xp6(1),e.hij(" ",t.unreadCount," ")}}const mn=(o,n)=>({"dark:hover:bg-hover hover:bg-gray-100":o,"bg-primary-50 dark:bg-hover":n}),hn=o=>[o];function pn(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"a",12)(2,"div",13),e.YNc(3,cn,2,1,"ng-container",4)(4,rn,3,1,"ng-container",4),e.qZA(),e.TgZ(5,"div",14)(6,"div",15)(7,"div",16),e._uU(8),e.qZA(),e.TgZ(9,"div",17),e.YNc(10,an,3,0,"ng-container",4),e.TgZ(11,"div",18),e._uU(12),e.ALo(13,"date"),e.qZA()()(),e.TgZ(14,"div",15)(15,"div",19),e._uU(16),e.qZA(),e.YNc(17,ln,3,4,"ng-container",4),e.qZA()()(),e.BQk()),2&o){const t=n.$implicit,i=e.oxw(3);let s,c;e.xp6(1),e.Q6J("ngClass",e.WLB(11,mn,i.selectedConversationId!==t.id,i.selectedConversationId===t.id))("routerLink",e.VKq(14,hn,t.id)),e.xp6(2),e.Q6J("ngIf",t.avatar),e.xp6(1),e.Q6J("ngIf",!t.avatar),e.xp6(4),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngIf",t.muted),e.xp6(2),e.hij(" ",e.lcZ(13,9,t.lastMessageAt)," "),e.xp6(4),e.hij(" ",null!==(s=t.lastMessage)&&void 0!==s?s:""," "),e.xp6(1),e.Q6J("ngIf",null!==(c=t.unreadCount)&&void 0!==c&&c)}}function gn(o,n){if(1&o&&(e.ynx(0),e.YNc(1,pn,18,16,"ng-container",11),e.BQk()),2&o){const t=e.oxw().ngIf,i=e.oxw();e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",i.trackByFn)}}function _n(o,n){if(1&o&&(e.ynx(0),e.YNc(1,gn,2,2,"ng-container",10),e.BQk()),2&o){const t=n.ngIf;e.oxw();const i=e.MAs(7);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",i)}}function un(o,n){if(1&o&&(e.TgZ(0,"div",25)(1,"mat-icon",26),e.O4$(),e.TgZ(2,"svg",27),e._UZ(3,"path",28),e.qZA()(),e.kcU(),e.TgZ(4,"div",29),e._uU(5),e.qZA(),e.TgZ(6,"div",30),e._uU(7),e.qZA()()),2&o){const t=n.$implicit;e.xp6(5),e.hij(" ",t("welcome")," "),e.xp6(2),e.hij(" ",t("welcome-message")," ")}}function fn(o,n){1&o&&e.YNc(0,un,8,2,"div",24),2&o&&e.Q6J("translocoRead","conversations")}const bn=(o,n)=>({"absolute inset-0 z-20 flex lg:static lg:inset-auto":o,"hidden lg:flex":n});function wn(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",31),e._UZ(2,"router-outlet"),e.qZA(),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.WLB(1,bn,t.selectedConversationId,!t.selectedConversationId))}}function vn(o,n){if(1&o&&(e.ynx(0),e.YNc(1,wn,3,4,"ng-container",4),e.BQk()),2&o){const t=n.ngIf;e.xp6(1),e.Q6J("ngIf",t.length>0)}}let xn=(()=>{class o{constructor(t,i){this._conversationsService=t,this._changeDetectorRef=i,this._unsubscribeAll=new x.x}ngOnInit(){this.conversations$=this._conversationsService.getMyConversations(),this._conversationsService.currentConversation$.pipe((0,b.R)(this._unsubscribeAll)).subscribe(t=>{this.selectedConversationId=t,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}trackByFn(t,i){return i.id||t}static#t=this.\u0275fac=function(i){return new(i||o)(e.Y36(ot),e.Y36(e.sBO))};static#e=this.\u0275cmp=e.Xpm({type:o,selectors:[["chat-conversations"]],decls:10,vars:7,consts:[[1,"absolute","inset-0","flex","min-w-0","flex-col","overflow-hidden"],[1,"flex","flex-auto","overflow-hidden"],[1,"lg:min-w-100","lg:max-w-100","bg-card","relative","flex","w-full","min-w-0","flex-auto","flex-col","dark:bg-transparent"],["class","flex-0 h-18 flex flex-col justify-center border-b px-8",4,"transloco","translocoRead"],[4,"ngIf"],["noConversations",""],[1,"flex-0","h-18","flex","flex-col","justify-center","border-b","px-8"],["subscriptSizing","dynamic",1,"chat-mat-rounded","chat-mat-dense","w-full"],["matPrefix","",1,"mat-icon-rtl-mirror","icon-size-5"],["matInput","","autocomplete","off",3,"placeholder"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"z-20","flex","cursor-pointer","items-center","border-b","px-8","py-5",3,"ngClass","routerLink"],[1,"flex-0","relative","flex","h-10","w-10","items-center","justify-center"],[1,"flex","w-full","flex-col","overflow-hidden","ltr:ml-4","rtl:mr-4"],[1,"flex","items-center","justify-between"],[1,"truncate","font-medium","leading-5"],[1,"flex-0","flex"],[1,"text-secondary","text-sm","leading-5"],[1,"text-secondary","truncate","leading-5"],["alt","Conversation avatar",1,"h-full","w-full","rounded-full","object-cover",3,"src"],[1,"flex","h-full","w-full","items-center","justify-center","rounded-full","bg-gray-200","text-lg","uppercase","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"icon-size-5","text-hint"],[1,"min-w-4","flex","h-4","shrink-0","items-center","justify-center","rounded-full","bg-gray-400","px-1","text-xs","font-medium","text-gray-50","dark:bg-gray-600",3,"ngClass"],["class","flex h-full flex-auto flex-col items-center justify-center",4,"transloco","translocoRead"],[1,"flex","h-full","flex-auto","flex-col","items-center","justify-center"],[1,"icon-size-24","mat-icon-rtl-mirror"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","fit","","height","100%","width","100%","preserveAspectRatio","xMidYMid meet","focusable","false"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],[1,"mt-4","text-2xl","font-semibold","tracking-tight"],[1,"text-secondary","mt-1","tracking-tight"],[1,"flex-auto","ltr:border-l","rtl:border-r",3,"ngClass"]],template:function(i,s){if(1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,sn,5,1,"div",3)(4,_n,2,2,"ng-container",4),e.ALo(5,"async"),e.YNc(6,fn,1,1,"ng-template",null,5,e.W1O),e.qZA(),e.YNc(8,vn,2,1,"ng-container",4),e.ALo(9,"async"),e.qZA()()),2&i){let c,r;e.xp6(3),e.Q6J("translocoRead","conversations"),e.xp6(1),e.Q6J("ngIf",null==(c=e.lcZ(5,3,s.conversations$))?null:c.items),e.xp6(4),e.Q6J("ngIf",null==(r=e.lcZ(9,5,s.conversations$))?null:r.items)}},dependencies:[_.mk,_.sg,_.O5,I.lC,I.rH,L.Hw,rt.Nt,J.KE,J.qo,D.KI,_.Ov,_.uU],encapsulation:2,changeDetection:0})}return o})();function kn(o,n){if(1&o&&(e.O4$(),e.kcU(),e.TgZ(0,"div",6),e._uU(1),e.qZA()),2&o){const t=n.$implicit;e.xp6(1),e.hij(" ",t("not-select-conversation-message")," ")}}let yn=(()=>{class o{constructor(){}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=e.Xpm({type:o,selectors:[["chat-empty-conversation"]],decls:6,vars:1,consts:[[1,"bg-card","dark:bg-default","flex","flex-auto","flex-col","overflow-y-auto","lg:overflow-hidden"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24","mat-icon-rtl-mirror"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","fit","","height","100%","width","100%","preserveAspectRatio","xMidYMid meet","focusable","false"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"],["class","text-secondary mt-4 text-2xl font-semibold tracking-tight",4,"transloco","translocoRead"],[1,"text-secondary","mt-4","text-2xl","font-semibold","tracking-tight"]],template:function(i,s){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),e.O4$(),e.TgZ(3,"svg",3),e._UZ(4,"path",4),e.qZA()(),e.YNc(5,kn,2,1,"div",5),e.qZA()()),2&i&&(e.xp6(5),e.Q6J("translocoRead","conversations"))},dependencies:[L.Hw,D.KI],encapsulation:2,changeDetection:0})}return o})();var Cn=a(5657);function Mn(o,n){if(1&o&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t("contact-info")," ")}}function Tn(o,n){if(1&o&&(e.TgZ(0,"div",13),e._uU(1),e.qZA()),2&o){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t("group-info")," ")}}function An(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",10),e.YNc(1,Mn,2,1,"div",11)(2,Tn,2,1,"div",11),e.TgZ(3,"button",12),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.drawer.close())}),e.TgZ(4,"mat-icon"),e._uU(5,"close"),e.qZA()()()}if(2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf","PRIVATE"===t.info.type),e.xp6(1),e.Q6J("ngIf","GROUP"===t.info.type)}}function Sn(o,n){if(1&o&&(e.ynx(0),e._UZ(1,"img",14),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.info.avatar,e.LSH)("alt","Contact avatar")}}function En(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",15),e._uU(2),e.qZA(),e.BQk()),2&o){const t=e.oxw(2);e.xp6(2),e.hij(" ",t.info.name.charAt(0)," ")}}function In(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",17),e.NdJ("click",function(i){return i.stopPropagation()}),e.TgZ(2,"mat-icon"),e._uU(3,"alternate_email"),e.qZA(),e.TgZ(4,"div",22)(5,"div",19),e._uU(6),e.qZA(),e.TgZ(7,"div",23),e._uU(8),e.qZA()()(),e.BQk()),2&o){const t=e.oxw().$implicit,i=e.oxw(2);e.xp6(6),e.Oqu(i.info.username),e.xp6(2),e.Oqu(t("username"))}}function Ln(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",16),e.YNc(1,In,9,2,"ng-container",1),e.TgZ(2,"div",17),e.NdJ("click",function(s){e.CHM(t);const c=e.oxw(2);return s.stopPropagation(),e.KtG(c.info.mute=!c.info.mute)}),e.TgZ(3,"mat-icon"),e._uU(4,"notifications"),e.qZA(),e.TgZ(5,"div",18)(6,"div",19),e._uU(7),e.qZA(),e._UZ(8,"mat-slide-toggle",20)(9,"div",21),e.qZA()()()}if(2&o){const t=n.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("ngIf","PRIVATE"===i.info.type),e.xp6(6),e.Oqu(t("notifications")),e.xp6(1),e.Q6J("checked",!i.info.mute)}}function On(o,n){if(1&o&&(e.ynx(0),e.YNc(1,An,6,2,"div",2),e.TgZ(2,"div",3)(3,"div",4)(4,"div",5),e.YNc(5,Sn,2,2,"ng-container",1)(6,En,3,1,"ng-container",1),e.qZA(),e.TgZ(7,"div",6),e._uU(8),e.qZA(),e.TgZ(9,"div",7),e._uU(10),e.qZA()(),e.TgZ(11,"div",8),e.YNc(12,Ln,10,3,"div",9),e.qZA()(),e.BQk()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("translocoRead","conversations"),e.xp6(4),e.Q6J("ngIf",t.info.avatar),e.xp6(1),e.Q6J("ngIf",!t.info.avatar),e.xp6(2),e.Oqu(t.info.name),e.xp6(2),e.Oqu(t.info.about),e.xp6(2),e.Q6J("translocoRead","conversations")}}let Fn=(()=>{class o{constructor(){}static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275cmp=e.Xpm({type:o,selectors:[["chat-conversation-info"]],inputs:{info:"info",drawer:"drawer"},decls:2,vars:1,consts:[[1,"bg-card","dark:bg-default","flex","h-full","flex-auto","flex-col"],[4,"ngIf"],["class","flex-0 h-18 flex items-center border-b bg-gray-50 px-4 dark:bg-transparent",4,"transloco","translocoRead"],[1,"overflow-y-auto"],[1,"mt-8","flex","flex-col","items-center"],[1,"h-40","w-40","rounded-full"],[1,"mt-4","text-lg","font-medium"],[1,"text-md","text-secondary","mt-0.5"],[1,"px-4","py-10"],["class","space-y-4 border-t pt-4",4,"transloco","translocoRead"],[1,"flex-0","h-18","flex","items-center","border-b","bg-gray-50","px-4","dark:bg-transparent"],["class","ml-2 w-full text-lg font-medium",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"ml-2","w-full","text-lg","font-medium"],[1,"h-full","w-full","rounded-full","object-cover",3,"src","alt"],[1,"flex","h-full","w-full","items-center","justify-center","rounded-full","bg-gray-200","text-8xl","font-semibold","uppercase","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"space-y-4","border-t","pt-4"],["matRipple","",1,"hover:bg-hover","relative","flex","cursor-pointer","rounded-lg","px-4","py-2","sm:items-center",3,"click"],[1,"flex","w-full","items-center","justify-between","ltr:ml-6","rtl:mr-6"],[1,"font-medium"],["color","primary",3,"checked"],[1,"absolute","inset-0","z-10","h-full","w-full"],[1,"ltr:ml-6","rtl:mr-6"],[1,"text-secondary","text-sm"]],template:function(i,s){1&i&&(e.TgZ(0,"div",0),e.YNc(1,On,13,6,"ng-container",1),e.qZA()),2&i&&(e.xp6(1),e.Q6J("ngIf",s.info))},dependencies:[_.O5,L.Hw,f.wG,j.RK,Zt,D.KI],encapsulation:2,changeDetection:0})}return o})();const Rn=["conversation"],Bn=["messageInput"];function Dn(o,n){if(1&o&&(e.ynx(0),e._UZ(1,"img",22),e.BQk()),2&o){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.info.avatar,e.LSH)}}function zn(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",23),e._uU(2),e.qZA(),e.BQk()),2&o){const t=e.oxw(2);e.xp6(2),e.hij(" ",null==t.info.name?null:t.info.name.charAt(0)," ")}}function Zn(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const s=e.oxw(2);return e.KtG(s.openConversationInfo())}),e.TgZ(1,"mat-icon",8),e._uU(2,"info"),e.qZA(),e._uU(3),e.qZA()}if(2&o){const t=n.$implicit,i=e.oxw(2);e.xp6(3),e.hij(" ",t("PRIVATE"===i.info.type?"contact-info":"group-info")," ")}}function Nn(o,n){if(1&o){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",16),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.openConversationInfo())}),e.TgZ(2,"div",17),e.YNc(3,Dn,2,1,"ng-container",9)(4,zn,3,1,"ng-container",9),e.qZA(),e.TgZ(5,"div",18),e._uU(6),e.qZA()(),e.TgZ(7,"button",19)(8,"mat-icon",8),e._uU(9,"more_vert"),e.qZA(),e.TgZ(10,"mat-menu",null,20),e.YNc(12,Zn,4,1,"button",21),e.qZA()(),e.BQk()}if(2&o){const t=e.MAs(11),i=e.oxw();e.xp6(3),e.Q6J("ngIf",i.info.avatar),e.xp6(1),e.Q6J("ngIf",!i.info.avatar),e.xp6(2),e.hij(" ",i.info.name," "),e.xp6(1),e.Q6J("matMenuTriggerFor",t),e.xp6(5),e.Q6J("translocoRead","conversations")}}function Pn(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",30),e._UZ(2,"div",31),e.TgZ(3,"div",32),e._uU(4),e.ALo(5,"date"),e.qZA(),e._UZ(6,"div",31),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.xp6(4),e.hij(" ",e.xi3(5,1,t.createdAt,"longDate")," ")}}function Un(o,n){1&o&&e.GkF(0)}const qn=(o,n)=>({"text-primary-500 -right-1 -mr-px mb-px":o,"-scale-x-1 -left-1 -ml-px mb-px text-gray-500":n});function Qn(o,n){if(1&o&&(e.ynx(0),e.TgZ(1,"div",33),e.YNc(2,Un,1,0,"ng-container",34),e.qZA(),e.BQk()),2&o){const t=e.oxw().$implicit;e.oxw();const i=e.MAs(17);e.xp6(1),e.Q6J("ngClass",e.WLB(2,qn,t.isMine,!t.isMine)),e.xp6(1),e.Q6J("ngTemplateOutlet",i)}}const Vn=(o,n,t,i)=>({"items-end":o,"items-start":n,"mt-0.5":t,"mt-3":i}),jn=(o,n)=>({"bg-primary-500 text-primary-50":o,"bg-gray-500 text-gray-50":n}),Yn=(o,n)=>({"ltr:justify-start rtl:justify-end":o,"ltr:justify-end rtl:justify-start":n});function Hn(o,n){if(1&o&&(e.ynx(0),e.YNc(1,Pn,7,4,"ng-container",9),e.ALo(2,"date"),e.ALo(3,"date"),e.TgZ(4,"div",25)(5,"div",26),e.YNc(6,Qn,3,5,"ng-container",9),e._UZ(7,"div",27),e.TgZ(8,"div",28)(9,"span",29),e._uU(10),e.ALo(11,"date"),e.qZA()()()(),e.BQk()),2&o){const t=n.$implicit,i=n.index,s=n.first,c=n.last,r=e.oxw();e.xp6(1),e.Q6J("ngIf",s||e.xi3(2,7,r.messages[i-1].createdAt,"d")!==e.xi3(3,10,t.createdAt,"d")),e.xp6(3),e.Q6J("ngClass",e.l5B(16,Vn,t.isMine,!t.isMine,i>0&&r.messages[i-1].isMine===t.isMine,i>0&&r.messages[i-1].isMine!==t.isMine)),e.xp6(1),e.Q6J("ngClass",e.WLB(21,jn,t.isMine,!t.isMine)),e.xp6(1),e.Q6J("ngIf",c||r.messages[i+1].isMine!==t.isMine),e.xp6(1),e.Q6J("innerHTML",t.text,e.oJD),e.xp6(1),e.Q6J("ngClass",e.WLB(24,Yn,t.isMine,!t.isMine)),e.xp6(2),e.hij(" ",e.xi3(11,13,t.createdAt,"HH:mm")," ")}}function Jn(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",35)(1,"div",36)(2,"button",37)(3,"mat-icon",8),e.O4$(),e.TgZ(4,"svg",38),e._UZ(5,"path",39),e.qZA()()()(),e.kcU(),e.TgZ(6,"mat-form-field",40)(7,"textarea",41,42),e.NdJ("keyup",function(s){e.CHM(t);const c=e.oxw();return e.KtG("Enter"===s.key?c.sendMessage():null)}),e.qZA()(),e.TgZ(9,"div",36)(10,"button",43),e.NdJ("click",function(){e.CHM(t);const s=e.oxw();return e.KtG(s.sendMessage())}),e.TgZ(11,"mat-icon",8),e.O4$(),e.TgZ(12,"svg",44),e._UZ(13,"path",45)(14,"path",46),e.qZA()()()()()}if(2&o){const t=n.$implicit;e.xp6(7),e.Q6J("placeholder",t("message-placeholder"))("rows",1)}}function Gn(o,n){1&o&&(e.O4$(),e.TgZ(0,"svg",47)(1,"g",48),e._UZ(2,"path",49),e.qZA()())}const Wn=()=>["../"],$n=[{path:"",component:xn,children:[{path:"",pathMatch:"full",component:yn},{path:":id",component:(()=>{class o{constructor(t,i,s,c){this._chatMediaWatcherService=t,this._conversationsService=i,this._changeDetectorRef=s,this._ngZone=c,this.drawerMode="side",this.drawerOpened=!1,this.messages=[],this._unsubscribeAll=new x.x}_resizeMessageInput(){this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._messageInput.nativeElement.style.height="auto",this._changeDetectorRef.detectChanges(),this._messageInput.nativeElement.style.height=`${this._messageInput.nativeElement.scrollHeight}px`,this._changeDetectorRef.detectChanges()})})}ngOnInit(){this._chatMediaWatcherService.onMediaChange$.pipe((0,b.R)(this._unsubscribeAll)).subscribe(({matchingAliases:t})=>{this.drawerMode=t.includes("lg")?"side":"over",this._changeDetectorRef.markForCheck()}),this._conversationsService.getConversationInfo().pipe((0,b.R)(this._unsubscribeAll)).subscribe(t=>{this.info=t,this._changeDetectorRef.markForCheck()}),this._conversationsService.getConversationMessages().pipe((0,Y.U)(t=>{this.messages=t.items,this.pagination=t.pagination})).subscribe(),this._conversationsService.getAddedMessages().pipe((0,Y.U)(t=>{this.messages.shift(),this.messages.push(t),this.pagination.itemCount++,this._changeDetectorRef.markForCheck()})).subscribe()}ngAfterViewInit(){this._prepareChatForReply()}ngOnDestroy(){this._conversationsService.currentConversation=null,this._unsubscribeAll.next(),this._unsubscribeAll.complete()}trackByFn(t,i){return i.id||t}openConversationInfo(){this.drawerOpened=!0,this._changeDetectorRef.markForCheck()}sendMessage(){const t=this._messageInput.nativeElement.value.trim();t?(this._conversationsService.sendMessage(this.info.id,t),this._prepareChatForReply()):this._prepareChatForReply()}_prepareChatForReply(){this._resetMessageInput(),this._focusMessageInput(),this._scrollToBottom()}_resetMessageInput(){this._messageInput&&(this._messageInput.nativeElement.value="")}_focusMessageInput(){this._messageInput&&setTimeout(()=>{this._messageInput.nativeElement.focus()},0)}_scrollToBottom(){if(this._conversation){const t=this._conversation.nativeElement;setTimeout(()=>{t.children.item(t.children.length-1)?.scrollIntoView({behavior:"smooth"})},100)}}static#t=this.\u0275fac=function(i){return new(i||o)(e.Y36(Cn.y),e.Y36(ot),e.Y36(e.sBO),e.Y36(e.R0b))};static#e=this.\u0275cmp=e.Xpm({type:o,selectors:[["chat-conversation"]],viewQuery:function(i,s){if(1&i&&(e.Gf(Rn,5),e.Gf(Bn,5)),2&i){let c;e.iGM(c=e.CRH())&&(s._conversation=c.first),e.iGM(c=e.CRH())&&(s._messageInput=c.first)}},hostBindings:function(i,s){1&i&&e.NdJ("input",function(){return s._resizeMessageInput()})("ngModelChange",function(){return s._resizeMessageInput()})},decls:18,vars:13,consts:[[1,"bg-card","dark:bg-default","flex","flex-auto","flex-col","overflow-y-auto","lg:overflow-hidden"],[1,"h-full","flex-auto",3,"hasBackdrop"],[1,"sm:w-100","w-full","dark:bg-gray-900","lg:border-l","lg:shadow-none",3,"autoFocus","mode","position","opened","openedChange"],["drawer",""],[3,"drawer","info"],[1,"flex","flex-col","overflow-hidden"],[1,"flex-0","h-18","flex","items-center","border-b","bg-gray-50","px-4","dark:bg-transparent","md:px-6"],["mat-icon-button","",1,"ltr:md:-ml-2","rtl:md:-mr-2","lg:hidden",3,"routerLink"],[1,"mat-icon-rtl-mirror"],[4,"ngIf"],[1,"flex","h-full","flex-col-reverse","overflow-y-auto"],[1,"bg-card","flex","flex-auto","shrink","flex-col","p-6","dark:bg-transparent"],["conversation",""],[4,"ngFor","ngForOf","ngForTrackBy"],["class","flex items-end border-t bg-gray-50 p-4 dark:bg-transparent",4,"transloco","translocoRead"],["speechBubbleExtension",""],[1,"mx-2","flex","cursor-pointer","items-center","ltr:lg:ml-0","rtl:lg:mr-0",3,"click"],[1,"flex-0","relative","flex","h-10","w-10","items-center","justify-center"],[1,"ml-4","truncate","text-lg","font-medium","leading-5"],["mat-icon-button","",1,"ml-auto",3,"matMenuTriggerFor"],["conversationHeaderMenu",""],["mat-menu-item","",3,"click",4,"transloco","translocoRead"],["alt","Conversation avatar",1,"h-full","w-full","rounded-full","object-cover",3,"src"],[1,"flex","h-full","w-full","items-center","justify-center","rounded-full","bg-gray-200","text-lg","uppercase","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],["mat-menu-item","",3,"click"],[1,"flex","flex-col",3,"ngClass"],[1,"max-w-3/4","relative","rounded-lg","px-2","py-1",3,"ngClass"],[1,"min-w-4","leading-5",3,"innerHTML"],[1,"mt-0.5","flex",3,"ngClass"],[1,"text-on-primary-500","text-sm","font-medium","leading-3","text-opacity-50"],[1,"my-3","flex","items-center","justify-center"],[1,"flex-auto","border-b"],[1,"flex-0","text-secondary","mx-4","text-sm","font-medium","leading-5"],[1,"absolute","bottom-0","w-3",3,"ngClass"],[4,"ngTemplateOutlet"],[1,"flex","items-end","border-t","bg-gray-50","p-4","dark:bg-transparent"],[1,"my-px","flex","h-11","items-center"],["mat-icon-button",""],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor","fit","","height","100%","width","100%","preserveAspectRatio","xMidYMid meet","focusable","false"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"],["subscriptSizing","dynamic",1,"chat-mat-dense","chat-mat-rounded","mx-4","w-full"],["matInput","",1,"min-h-5","max-h-30","my-0","resize-none",2,"margin","11px 0 !important","padding","0 !important",3,"placeholder","rows","keyup"],["messageInput",""],["mat-icon-button","","color","primary",3,"click"],["xmlns","http://www.w3.org/2000/svg","height","24px","viewBox","0 0 24 24","width","24px"],["d","M0 0h24v24H0V0z","fill","none"],["d","M3.4 20.4l17.45-7.48c.81-.35.81-1.49 0-1.84L3.4 3.6c-.66-.29-1.39.2-1.39.91L2 9.12c0 .5.37.93.87.99L17 12 2.87 13.88c-.5.07-.87.5-.87 1l.01 4.61c0 .71.73 1.2 1.39.91z"],["width","100%","height","100%","viewBox","0 0 66 66","xmlns","http://www.w3.org/2000/svg"],["id","Page-1","stroke","none","stroke-width","1","fill","none","fill-rule","evenodd"],["d","M1.01522827,0.516204834 C-8.83532715,54.3062744 61.7609863,70.5215302 64.8009949,64.3061218 C68.8074951,54.8859711 30.1663208,52.9997559 37.5036011,0.516204834 L1.01522827,0.516204834 Z","fill","currentColor","fill-rule","nonzero"]],template:function(i,s){if(1&i&&(e.TgZ(0,"div",0)(1,"mat-drawer-container",1)(2,"mat-drawer",2,3),e.NdJ("openedChange",function(r){return s.drawerOpened=r}),e._UZ(4,"chat-conversation-info",4),e.qZA(),e.TgZ(5,"mat-drawer-content",5)(6,"div",6)(7,"a",7)(8,"mat-icon",8),e._uU(9,"arrow_back"),e.qZA()(),e.YNc(10,Nn,13,5,"ng-container",9),e.qZA(),e.TgZ(11,"div",10)(12,"div",11,12),e.YNc(14,Hn,12,27,"ng-container",13),e.qZA()(),e.YNc(15,Jn,15,2,"div",14),e.qZA()(),e.YNc(16,Gn,3,0,"ng-template",null,15,e.W1O),e.qZA()),2&i){const c=e.MAs(3);e.xp6(1),e.Q6J("hasBackdrop",!1),e.xp6(1),e.Q6J("autoFocus",!1)("mode",s.drawerMode)("position","end")("opened",s.drawerOpened),e.xp6(2),e.Q6J("drawer",c)("info",s.info),e.xp6(3),e.Q6J("routerLink",e.DdM(12,Wn)),e.xp6(3),e.Q6J("ngIf",s.info),e.xp6(4),e.Q6J("ngForOf",s.messages)("ngForTrackBy",s.trackByFn),e.xp6(1),e.Q6J("translocoRead","conversations")}},dependencies:[_.mk,_.sg,_.O5,_.tP,I.rH,L.Hw,O.VK,O.OP,O.p6,rt.Nt,J.KE,j.o6,j.RK,Bt,Dt,H,D.KI,Fn,_.uU],encapsulation:2,changeDetection:0})}return o})(),resolve:{conversion:le}}]}];let Kn=(()=>{class o{static#t=this.\u0275fac=function(i){return new(i||o)};static#e=this.\u0275mod=e.oAB({type:o});static#i=this.\u0275inj=e.cJS({providers:[{provide:D.Hn,useValue:{scope:"conversations",loader:(0,mi.Q)((t,i)=>a(8231)(`./${i}/${t}.json`))}}],imports:[_.ez,I.Bz.forChild($n),L.Ps,O.Tx,qe,rt.c,f.si,j.ot,ei,J.lN,li,D.y4]})}return o})()}}]);